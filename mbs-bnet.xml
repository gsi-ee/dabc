<?xml version="1.0"?>
<dabc version="1">
  <Variables>
     <node0 value="lxg0526"/>
     <node1 value="lxi009"/>
     <node2 value="lxi010"/>
     <node3 value="lxi011"/>
     <node4 value="lxi012"/>
     <custport value="16015"/>
  </Variables>
  <Context name="Gener_${node1}">
    <Run>
      <host value="${node1}"/>
    </Run>
    <Module name="Generator">
       <FirstProcId value="0"/>
    </Module>
  </Context>
  <Context name="Gener_${node2}">
    <Run>
      <host value="${node2}"/>
    </Run>
    <Module name="Generator">
       <FirstProcId value="2"/>
    </Module>
  </Context>
  <Context name="Gener_${node3}">
    <Run>
      <host value="${node3}"/>
    </Run>
    <Module name="Generator">
       <FirstProcId value="4"/>
    </Module>
  </Context>
  <Context name="Gener_${node4}">
    <Run>
      <host value="${node4}"/>
    </Run>
    <Module name="Generator">
       <FirstProcId value="6"/>
    </Module>
  </Context>
  <Context name="Controller">
    <Run>
      <host value="${node0}"/>
      <lib value="${DABCSYS}/lib/libDabcBnet.so"/>
    </Run>
    <Application class="bnet::Cluster">
       <NetDevice value="dabc::SocketDevice"/>
       <CtrlBuffer value="2048"/>
       <TransportBuffer value="8192"/>
       <NumEventsCombine value="1"/>
    </Application>
  </Context>
  <Context name="Read_${node1}">
    <Run>
      <host value="${node1}"/>
    </Run>
    <Application class="bnet::MbsWorker">
       <NumReadouts value="2"/>
       <Input0Cfg value="${node3}"/>
       <Input1Cfg value="${node4}"/>
    </Application>
  </Context>
  <Context name="Read_${node3}">
    <Run>
      <host value="${node3}"/>
    </Run>
    <Application class="bnet::MbsWorker">
       <NumReadouts value="2"/>
       <Input0Cfg value="${node1}"/>
       <Input1Cfg value="${node2}"/>
    </Application>
  </Context>
  <Context name="Build_${node2}">
    <Run>
      <host value="${node2}"/>
    </Run>
  </Context>
  <Context name="Build_${node4}">
    <Run>
      <host value="${node4}"/>
    </Run>
  </Context>
  <Defaults>
     <Context name="*">
       <Run>
          <logfile value="${Context}.log"/>
          <loglevel value="1"/>
       </Run>
     </Context>
     <Context name="Gener*">
        <Run>
          <lib value="libDabcMbs.so"/>
          <func value="StartMbsGenerator"/>
        </Run>
        <Module name="Generator">
           <BufferSize value="8192"/>
           <Go4Random value="false"/>
           <SubeventSize value="128"/>
           <Port name="Output">
              <OutputQueueSize value="5"/>
              <MbsServerPort value="${custport}"/>
           </Port>
        </Module>
     </Context>
     <Context name="Read*">
        <Run>
          <lib value="libDabcBnet.so"/>
          <lib value="libDabcMbs.so"/>
          <lib value="libBnetMbs.so"/>
        </Run>
        <Application class="bnet::MbsWorker">
           <IsSender value="true"/>
           <ReadoutBuffer value="8192"/>
        </Application>
        <Module name="Combiner">
           <Port name="Input*">
              <MbsServerPort value="${custport}"/>
           </Port>
        </Module>
     </Context>
     <Context name="Build*">
        <Run>
          <lib value="libDabcBnet.so"/>
          <lib value="libDabcMbs.so"/>
          <lib value="libBnetMbs.so"/>
        </Run>
        <Application class="bnet::MbsWorker">
           <IsReceiver value="true"/>
           <IsFilter value="true"/>
           <EventBuffer value="8192"/>
        </Application>
     </Context>
  </Defaults>
</dabc>
