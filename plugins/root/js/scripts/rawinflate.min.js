(function(a){if(typeof define==="function"&&define.amd){define(["JSRootCore"],a)}else{if(typeof exports==="object"&&typeof module!=="undefined"){a(require("./JSRootCore.js"))}else{if(typeof JSROOT=="undefined"){throw new Error("JSROOT is not defined","rawinflate.js")}if(typeof JSROOT.ZIP!=="undefined"){throw new Error("JSROOT.ZIP already exists","rawinflate.js")}a(JSROOT)}}}(function(o){var j=32768,w=null,g,I=null,a,E,G,n,m,L,F,K,s,i,k,d,f,v,D,x,H=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535),b=new Array(3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0),C=new Array(0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99),A=new Array(1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577),t=new Array(0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13),l=new Array(16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15);var r=function(){this.next=null;this.list=null};var z=function(){this.e=0;this.b=0;this.n=0;this.t=null};var h=function(aq,ae,Z,ao,an,ak){this.status=0;this.root=null;this.m=0;var af=16,N=288,ap=new Array(af+1),O=new Array(af+1),Y=new Array(af),X=new Array(N),U=new Array(af+1),aa=new z(),R=null,ar,M,am,al,aj,ai,ah,ag,ac,P,ab,W,V,T,S,ad,Q=this.root=null;for(ai=0;ai<=af;++ai){ap[ai]=O[ai]=U[ai]=0}for(ai=0;ai<af;++ai){Y[ai]=null}for(ai=0;ai<N;++ai){X[ai]=0}M=(ae>256)?aq[256]:af;ac=aq;P=0;ai=ae;do{ap[ac[P++]]++}while(--ai>0);if(ap[0]==ae){this.root=null;this.m=0;this.status=0;return this}for(ah=1;ah<=af;++ah){if(ap[ah]!=0){break}}ag=ah;if(ak<ah){ak=ah}for(ai=af;ai!=0;--ai){if(ap[ai]!=0){break}}al=ai;if(ak>ai){ak=ai}for(T=1<<ah;ah<ai;++ah,T<<=1){if((T-=ap[ah])<0){this.status=2;this.m=ak;return this}}if((T-=ap[ai])<0){this.status=2;this.m=ak;return this}ap[ai]+=T;U[1]=ah=0;ac=ap;P=1;V=2;while(--ai>0){U[V++]=(ah+=ac[P++])}ac=aq;P=0;ai=0;do{if((ah=ac[P++])!=0){X[U[ah]++]=ai}}while(++ai<ae);ae=U[al];U[0]=ai=0;ac=X;P=0;aj=-1;W=O[0]=0;ab=null;S=0;for(;ag<=al;++ag){ar=ap[ag];while(ar-->0){while(ag>W+O[1+aj]){W+=O[1+aj++];S=(S=al-W)>ak?ak:S;if((am=1<<(ah=ag-W))>ar+1){am-=ar+1;V=ag;while(++ah<S){if((am<<=1)<=ap[++V]){break}am-=ap[V]}}if(W+ah>M&&W<M){ah=M-W}S=1<<ah;O[1+aj]=ah;ab=new Array(S);for(ad=0;ad<S;++ad){ab[ad]=new z()}if(Q==null){Q=this.root=new r()}else{Q=Q.next=new r()}Q.next=null;Q.list=ab;Y[aj]=ab;if(aj>0){U[aj]=ai;aa.b=O[aj];aa.e=16+ah;aa.t=ab;ah=(ai&((1<<W)-1))>>(W-O[aj]);R=Y[aj-1][ah];R.e=aa.e;R.b=aa.b;R.n=aa.n;R.t=aa.t}}aa.b=ag-W;if(P>=ae){aa.e=99}else{if(ac[P]<Z){aa.e=(ac[P]<256?16:15);aa.n=ac[P++]}else{aa.e=an[ac[P]-Z];aa.n=ao[ac[P++]-Z]}}am=1<<(ag-W);for(ah=ai>>W;ah<S;ah+=am){R=ab[ah];R.e=aa.e;R.b=aa.b;R.n=aa.n;R.t=aa.t}for(ah=1<<(ag-1);(ai&ah)!=0;ah>>=1){ai^=ah}ai^=ah;while((ai&((1<<W)-1))!=U[aj]){W-=O[aj--]}}}this.m=O[1];this.status=((T!=0&&al!=1)?1:0);return this};var J=function(M){while(m<M){if(x<D){n|=v[x++]<<m}m+=8}};var p=function(M){return n&H[M]};var c=function(M){n>>=M;m-=M};var e=function(R,P,N){if(N==0){return 0}var O,M,Q=0;for(;;){J(d);M=i.list[p(d)];O=M.e;while(O>16){if(O==99){return -1}c(M.b);O-=16;J(O);M=M.t[p(O)];O=M.e}c(M.b);if(O==16){g&=j-1;R[P+Q++]=w[g++]=M.n;if(Q==N){return N}continue}if(O==15){break}J(O);K=M.n+p(O);c(O);J(f);M=k.list[p(f)];O=M.e;while(O>16){if(O==99){return -1}c(M.b);O-=16;J(O);M=M.t[p(O)];O=M.e}c(M.b);J(O);s=g-M.n-p(O);c(O);while(K>0&&Q<N){--K;s&=j-1;g&=j-1;R[P+Q++]=w[g++]=w[s++]}if(Q==N){return N}}L=-1;return Q};var q=function(P,N,M){var O=m&7;c(O);J(16);O=p(16);c(16);J(16);if(O!=((~n)&65535)){return -1}c(16);K=O;O=0;while(K>0&&O<M){--K;g&=j-1;J(8);P[N+O++]=w[g++]=p(8);c(8)}if(K==0){L=-1}return O};var B=function(R,Q,O){if(I==null){var N=0,M=new Array(288);while(N<144){M[N++]=8}while(N<256){M[N++]=9}while(N<280){M[N++]=7}while(N<288){M[N++]=8}E=7;var P=new h(M,288,257,b,C,E);if(P.status!=0){throw new Error("HufBuild error: "+P.status,"rawinflate.js");return -1}I=P.root;E=P.m;for(N=0;N<30;++N){M[N]=5}G=5;P=new h(M,30,0,A,t,G);if(P.status>1){I=null;throw new Error("HufBuild error: "+P.status,"rawinflate.js");return -1}a=P.root;G=P.m}i=I;k=a;d=E;f=G;return e(R,Q,O)};var u=function(W,O,Y){var S,R,P,N,X,U,V=new Array(286+30);for(S=0;S<V.length;++S){V[S]=0}J(5);var M=257+p(5);c(5);J(5);var Q=1+p(5);c(5);J(4);var T=4+p(4);c(4);if(M>286||Q>30){return -1}for(R=0;R<T;++R){J(3);V[l[R]]=p(3);c(3)}for(;R<19;++R){V[l[R]]=0}d=7;U=new h(V,19,19,null,null,d);if(U.status!=0){return -1}i=U.root;d=U.m;N=M+Q;S=P=0;while(S<N){J(d);X=i.list[p(d)];R=X.b;c(R);R=X.n;if(R<16){V[S++]=P=R}else{if(R==16){J(2);R=3+p(2);c(2);if(S+R>N){return -1}while(R-->0){V[S++]=P}}else{if(R==17){J(3);R=3+p(3);c(3);if(S+R>N){return -1}while(R-->0){V[S++]=0}P=0}else{J(7);R=11+p(7);c(7);if(S+R>N){return -1}while(R-->0){V[S++]=0}P=0}}}}d=9;U=new h(V,M,257,b,C,d);if(d==0){U.status=1}if(U.status!=0){return -1}i=U.root;d=U.m;for(S=0;S<Q;++S){V[S]=V[S+M]}f=6;U=new h(V,Q,0,A,t,f);k=U.root;f=U.m;if(f==0&&M>257){return -1}if(U.status!=0){return -1}return e(W,O,Y)};var y=function(Q,O,N){var P=0,M;while(P<N){if(F&&L==-1){return P}if(K>0){if(L!=0){while(K>0&&P<N){--K;s&=j-1;g&=j-1;Q[O+P++]=w[g++]=w[s++]}}else{while(K>0&&P<N){--K;g&=j-1;J(8);Q[O+P++]=w[g++]=p(8);c(8)}if(K==0){L=-1}}if(P==N){return P}}if(L==-1){if(F){break}J(1);if(p(1)!=0){F=true}c(1);J(2);L=p(2);c(2);i=null;K=0}switch(L){case 0:M=q(Q,O+P,N-P);break;case 1:if(i!=null){M=e(Q,O+P,N-P)}else{M=B(Q,O+P,N-P)}break;case 2:if(i!=null){M=e(Q,O+P,N-P)}else{M=u(Q,O+P,N-P)}break;default:M=-1;break}if(M==-1){return F?0:-1}P+=M}return P};o.ZIP={};o.ZIP.inflate=function(M,P){if(!w){w=new Array(2*j)}g=0;n=0;m=0;L=-1;F=false;K=s=0;i=null;v=M;D=M.byteLength;x=0;var O,N=0;while((O=y(P,N,Math.min(1024,P.byteLength-N)))>0){N+=O}v=null;return N};o.LZ4={};o.LZ4.uncompress=function(X,N,Y,U){Y=Y||0;U=U||(X.length-Y);for(var T=Y,M=U,S=0;T<M;){var P=X[T++];var Z=(P>>4);if(Z>0){var O=Z+240;while(O===255){O=X[T++];Z+=O}var Q=T+Z;while(T<Q){N[S++]=X[T++]}if(T===M){return S}}var R=X[T++]|(X[T++]<<8);if(R===0||R>S){return -(T-2)}var V=(P&15);var O=V+240;while(O===255){O=X[T++];V+=O}var W=S-R;var Q=S+V+4;while(S<Q){N[S++]=N[W++]}}return S};return o}));