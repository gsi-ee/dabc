<?xml version="1.0"?>
<!-- This is example how repeater for any kind of MBS server can be created. -->
<dabc version="2">
  <Context name="Repeater">
  
    <Run>
      <lib value="libDabcMbs.so"/>
      <lib value="libDabcHadaq.so"/>
      <runtime value="1000000"/>
      <debuglevel value="1"/>
      <loglimit value="10000000"/>
    </Run>
    
    <MemoryPool name="Pool">
       <BufferSize value="200000"/>
       <NumBuffers value="1000"/>
    </MemoryPool>
    
    <Module name="OnlineServer" class="hadaq::MbsTransmitterModule" auto="true">
       <NumInputs value="1"/>
       <NumOutputs value="1"/>

       <InputPort name="Input0" url="hld:///data.local1/hydra2/macros/EmcDst/file.hld"/>

       <OutputPort name="Output0" url="mbs://Stream?blocking&deliverall"/>

       <!-- this is 32-bit MBS subevent id, which than can be seen in the analysis. Here procid=0x1f is configured -->
       <SubeventFullId value="0x000001F"/>

       <!-- If true, all events with the same SYNC number will be merged together into same MBS event -->
       <DoMergeSyncedEvents value="false"/>

       <TransmitData width="5" prec="3" low="0" up="50" debug="1"/>
       <TransmitEvents width="4" prec="1" low="0" up="100" debug="1"/>
    </Module>
    
  </Context>
</dabc>
