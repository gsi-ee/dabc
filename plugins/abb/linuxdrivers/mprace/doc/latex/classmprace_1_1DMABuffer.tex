\hypertarget{classmprace_1_1DMABuffer}{
\section{mprace::DMABuffer Class Reference}
\label{classmprace_1_1DMABuffer}\index{mprace::DMABuffer@{mprace::DMABuffer}}
}
Interface for handling DMA buffers.  


{\tt \#include $<$DMABuffer.h$>$}

Collaboration diagram for mprace::DMABuffer:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=115pt]{classmprace_1_1DMABuffer__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{CompactItemize}
\item 
enum \hyperlink{classmprace_1_1DMABuffer_w3}{Mem\-Type} \{ {\bf KERNEL}, 
{\bf KERNEL\_\-PIECES}, 
{\bf USER}
 \}
\begin{CompactList}\small\item\em The Type of DMA Buffer Memory used. \item\end{CompactList}\end{CompactItemize}
\subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
\hyperlink{classmprace_1_1DMABuffer_a0}{DMABuffer} (\hyperlink{classmprace_1_1Board}{Board} \&board, const unsigned int size, \hyperlink{classmprace_1_1DMABuffer_w3}{Mem\-Type} type, unsigned int kernel\_\-pieces=1)
\begin{CompactList}\small\item\em Creates a DMA Buffer of the specified size and type. \item\end{CompactList}\item 
\hyperlink{classmprace_1_1DMABuffer_a1}{DMABuffer} (\hyperlink{classmprace_1_1Board}{Board} \&board, const unsigned int size, unsigned int $\ast$ptr)
\begin{CompactList}\small\item\em Creates a DMA Buffer of the specified size, but does not owns the memory. \item\end{CompactList}\item 
\hyperlink{classmprace_1_1DMABuffer_a2}{$\sim$DMABuffer} ()
\begin{CompactList}\small\item\em Destroys a DMA Buffer. \item\end{CompactList}\item 
unsigned int $\ast$ \hyperlink{classmprace_1_1DMABuffer_a3}{get\-Pointer} ()
\begin{CompactList}\small\item\em Returns a user space memory pointer, to access the underlying buffer. \item\end{CompactList}\item 
unsigned int \hyperlink{classmprace_1_1DMABuffer_a4}{size} () const 
\begin{CompactList}\small\item\em Return the DMA Buffer size. \item\end{CompactList}\item 
unsigned int \& \hyperlink{classmprace_1_1DMABuffer_a5}{operator\mbox{[}$\,$\mbox{]}} (const unsigned int index)
\begin{CompactList}\small\item\em Access the underlying buffer as an array. \item\end{CompactList}\item 
\hyperlink{classmprace_1_1DMABuffer_w3}{Mem\-Type} \hyperlink{classmprace_1_1DMABuffer_a6}{get\-Type} () const 
\begin{CompactList}\small\item\em Get the current type of Memory of this buffer. \item\end{CompactList}\item 
void $\ast$ \hyperlink{classmprace_1_1DMABuffer_a7}{get\-Descriptors\-Ptr} ()
\begin{CompactList}\small\item\em Get the pointer to the descriptors list. \item\end{CompactList}\end{CompactItemize}
\subsection*{Friends}
\begin{CompactItemize}
\item 
\hypertarget{classmprace_1_1DMABuffer_n0}{
class {\bf DMAEngine}}
\label{classmprace_1_1DMABuffer_n0}

\item 
\hypertarget{classmprace_1_1DMABuffer_n1}{
class {\bf DMAEngine\-WG}}
\label{classmprace_1_1DMABuffer_n1}

\end{CompactItemize}


\subsection{Detailed Description}
Interface for handling DMA buffers. 

\begin{Desc}
\item[Author:]Guillermo Marcus \end{Desc}
\begin{Desc}
\item[Version:]\begin{Desc}
\item[Revision]1.6 \end{Desc}
\end{Desc}
\begin{Desc}
\item[Date:]\begin{Desc}
\item[Date]2007-10-31 15:48:33 \end{Desc}
\end{Desc}




\subsection{Member Enumeration Documentation}
\hypertarget{classmprace_1_1DMABuffer_w3}{
\index{mprace::DMABuffer@{mprace::DMABuffer}!MemType@{MemType}}
\index{MemType@{MemType}!mprace::DMABuffer@{mprace::DMABuffer}}
\subsubsection[MemType]{\setlength{\rightskip}{0pt plus 5cm}enum \hyperlink{classmprace_1_1DMABuffer_w3}{mprace::DMABuffer::Mem\-Type}}}
\label{classmprace_1_1DMABuffer_w3}


The Type of DMA Buffer Memory used. 



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classmprace_1_1DMABuffer_a0}{
\index{mprace::DMABuffer@{mprace::DMABuffer}!DMABuffer@{DMABuffer}}
\index{DMABuffer@{DMABuffer}!mprace::DMABuffer@{mprace::DMABuffer}}
\subsubsection[DMABuffer]{\setlength{\rightskip}{0pt plus 5cm}DMABuffer::DMABuffer (\hyperlink{classmprace_1_1Board}{Board} \& {\em board}, const unsigned int {\em size}, \hyperlink{classmprace_1_1DMABuffer_w3}{Mem\-Type} {\em type}, unsigned int {\em kernel\_\-pieces} = {\tt 1})}}
\label{classmprace_1_1DMABuffer_a0}


Creates a DMA Buffer of the specified size and type. 

The buffer owns the memory, therefore, if will be deallocated when the buffer is destroyed.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em board}]The board to associate this DMA Buffer with \item[{\em size}]Size of the buffer to allocate, in bytes \item[{\em type}]Type of the buffer (kernel/user memory). \item[{\em pieces}]Number of kernel pieces to divide the buffer. For debug only.\end{description}
\end{Desc}
\hypertarget{classmprace_1_1DMABuffer_a1}{
\index{mprace::DMABuffer@{mprace::DMABuffer}!DMABuffer@{DMABuffer}}
\index{DMABuffer@{DMABuffer}!mprace::DMABuffer@{mprace::DMABuffer}}
\subsubsection[DMABuffer]{\setlength{\rightskip}{0pt plus 5cm}DMABuffer::DMABuffer (\hyperlink{classmprace_1_1Board}{Board} \& {\em board}, const unsigned int {\em size}, unsigned int $\ast$ {\em ptr})}}
\label{classmprace_1_1DMABuffer_a1}


Creates a DMA Buffer of the specified size, but does not owns the memory. 

Instead, it references a provided pointer. Therefore, it is always user memory.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em board}]The board to associate this DMA Buffer with \item[{\em size}]Size of the referenced memory area, in bytes \item[{\em ptr}]Pointer to memory area of the buffer.\end{description}
\end{Desc}
\hypertarget{classmprace_1_1DMABuffer_a2}{
\index{mprace::DMABuffer@{mprace::DMABuffer}!~DMABuffer@{$\sim$DMABuffer}}
\index{~DMABuffer@{$\sim$DMABuffer}!mprace::DMABuffer@{mprace::DMABuffer}}
\subsubsection[$\sim$DMABuffer]{\setlength{\rightskip}{0pt plus 5cm}DMABuffer::$\sim$\hyperlink{classmprace_1_1DMABuffer}{DMABuffer} ()}}
\label{classmprace_1_1DMABuffer_a2}


Destroys a DMA Buffer. 

If the Buffer owns the memory, it also deallocates it.

\subsection{Member Function Documentation}
\hypertarget{classmprace_1_1DMABuffer_a7}{
\index{mprace::DMABuffer@{mprace::DMABuffer}!getDescriptorsPtr@{getDescriptorsPtr}}
\index{getDescriptorsPtr@{getDescriptorsPtr}!mprace::DMABuffer@{mprace::DMABuffer}}
\subsubsection[getDescriptorsPtr]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ mprace::DMABuffer::get\-Descriptors\-Ptr ()\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{classmprace_1_1DMABuffer_a7}


Get the pointer to the descriptors list. 

\hypertarget{classmprace_1_1DMABuffer_a3}{
\index{mprace::DMABuffer@{mprace::DMABuffer}!getPointer@{getPointer}}
\index{getPointer@{getPointer}!mprace::DMABuffer@{mprace::DMABuffer}}
\subsubsection[getPointer]{\setlength{\rightskip}{0pt plus 5cm}unsigned int$\ast$ mprace::DMABuffer::get\-Pointer ()\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{classmprace_1_1DMABuffer_a3}


Returns a user space memory pointer, to access the underlying buffer. 

\begin{Desc}
\item[Returns:]A pointer to the buffer contents.\end{Desc}
\hypertarget{classmprace_1_1DMABuffer_a6}{
\index{mprace::DMABuffer@{mprace::DMABuffer}!getType@{getType}}
\index{getType@{getType}!mprace::DMABuffer@{mprace::DMABuffer}}
\subsubsection[getType]{\setlength{\rightskip}{0pt plus 5cm}\hyperlink{classmprace_1_1DMABuffer_w3}{Mem\-Type} mprace::DMABuffer::get\-Type () const\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{classmprace_1_1DMABuffer_a6}


Get the current type of Memory of this buffer. 

\hypertarget{classmprace_1_1DMABuffer_a5}{
\index{mprace::DMABuffer@{mprace::DMABuffer}!operator[]@{operator[]}}
\index{operator[]@{operator[]}!mprace::DMABuffer@{mprace::DMABuffer}}
\subsubsection[operator[]]{\setlength{\rightskip}{0pt plus 5cm}unsigned int\& mprace::DMABuffer::operator\mbox{[}$\,$\mbox{]} (const unsigned int {\em index})\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{classmprace_1_1DMABuffer_a5}


Access the underlying buffer as an array. 

Allows to use the buffer as an array of unsigned int elements.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em index}]The index in the array.\end{description}
\end{Desc}
\hypertarget{classmprace_1_1DMABuffer_a4}{
\index{mprace::DMABuffer@{mprace::DMABuffer}!size@{size}}
\index{size@{size}!mprace::DMABuffer@{mprace::DMABuffer}}
\subsubsection[size]{\setlength{\rightskip}{0pt plus 5cm}unsigned int mprace::DMABuffer::size () const\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{classmprace_1_1DMABuffer_a4}


Return the DMA Buffer size. 



The documentation for this class was generated from the following files:\begin{CompactItemize}
\item 
include/mprace/DMABuffer.h\item 
src/lib/DMABuffer.cpp\end{CompactItemize}
