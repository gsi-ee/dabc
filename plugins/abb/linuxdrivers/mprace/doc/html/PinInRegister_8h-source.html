<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>MPRACE library: include/mprace/PinInRegister.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">include</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">mprace</a></div>
<h1>PinInRegister.h</h1><div class="fragment"><pre class="fragment">00001 <span class="preprocessor">#ifndef PININREGISTER_H_</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define PININREGISTER_H_</span>
00003 <span class="preprocessor"></span>
00004 <span class="comment">/*******************************************************************</span>
00005 <span class="comment"> * Change History:</span>
00006 <span class="comment"> * </span>
00007 <span class="comment"> * $Log: PinInRegister.h,v $</span>
00008 <span class="comment"> * Revision 1.1  2007-05-29 07:50:47  marcus</span>
00009 <span class="comment"> * Backup commit.</span>
00010 <span class="comment"> *</span>
00011 <span class="comment"> *******************************************************************/</span>
00012 
00013 <span class="preprocessor">#include "Register.h"</span>
00014 
00015 <span class="keyword">namespace </span>mprace {
00016 
00017 <span class="keyword">class </span>Pin;
00018 
<a name="l00031"></a><a class="code" href="classmprace_1_1PinInRegister.html">00031</a> <span class="keyword">class </span><a class="code" href="classmprace_1_1PinInRegister.html">PinInRegister</a> : <span class="keyword">public</span> <a class="code" href="classmprace_1_1Pin.html">Pin</a> {
00032 <span class="keyword">public</span>:
<a name="l00037"></a><a class="code" href="classmprace_1_1PinInRegister.html#a0">00037</a>         <a class="code" href="classmprace_1_1PinInRegister.html">PinInRegister</a>(<a class="code" href="classmprace_1_1Register.html">Register</a>&amp; reg, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bit) {
00038                 this-&gt;reg = &amp;reg;
00039                 this-&gt;bit = bit;
00040                 this-&gt;bitMask = mask[bit];
00041         }
00042 
<a name="l00047"></a><a class="code" href="classmprace_1_1PinInRegister.html#a1">00047</a>         <span class="keyword">virtual</span> ~<a class="code" href="classmprace_1_1PinInRegister.html">PinInRegister</a>() { }
00048 
<a name="l00054"></a><a class="code" href="classmprace_1_1PinInRegister.html#a2">00054</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> set(<span class="keywordtype">bool</span> value) 
00055         {
00056                 <span class="keywordflow">if</span> (value)
00057                         reg-&gt;<a class="code" href="classmprace_1_1Register.html#a1">set</a>( reg-&gt;get() | bitMask );
00058                 <span class="keywordflow">else</span>
00059                         reg-&gt;<a class="code" href="classmprace_1_1Register.html#a1">set</a>( reg-&gt;get() &amp; !bitMask );
00060         }
00061 
<a name="l00067"></a><a class="code" href="classmprace_1_1PinInRegister.html#a3">00067</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> get() { <span class="keywordflow">return</span> (reg-&gt;get() &amp; bitMask) != 0x0; }
00068         
<a name="l00073"></a><a class="code" href="classmprace_1_1PinInRegister.html#a4">00073</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span> set() { this-&gt;set( <span class="keyword">true</span> ); }
00074 
<a name="l00079"></a><a class="code" href="classmprace_1_1PinInRegister.html#a5">00079</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span> clear() { this-&gt;set( <span class="keyword">false</span> ); }
00080 
00081 <span class="keyword">protected</span>:
00082         <span class="comment">/* Avoid copy constructor, and copy assignment operator */</span>
00083 
<a name="l00087"></a><a class="code" href="classmprace_1_1PinInRegister.html#b0">00087</a>         <a class="code" href="classmprace_1_1PinInRegister.html">PinInRegister</a>(<span class="keyword">const</span> <a class="code" href="classmprace_1_1PinInRegister.html">PinInRegister</a>&amp;) {};
00088 
<a name="l00092"></a><a class="code" href="classmprace_1_1PinInRegister.html#b1">00092</a>         <a class="code" href="classmprace_1_1PinInRegister.html">PinInRegister</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classmprace_1_1PinInRegister.html">PinInRegister</a>&amp;) { <span class="keywordflow">return</span> *<span class="keyword">this</span>; };
00093 
00094 <span class="keyword">private</span>:
00095         <a class="code" href="classmprace_1_1Register.html">Register</a> *reg;
00096         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bit;
00097         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bitMask;
00098 
00099         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mask[]; 
00100         
00101 }; <span class="comment">/* class PinInRegister */</span>
00102 
00103 <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> PinInRegister::mask[] = {
00104                         0x00000001,             <span class="comment">//&gt;** bit 0</span>
00105                         0x00000002,             <span class="comment">//&gt;** bit 1</span>
00106                         0x00000004,             <span class="comment">//&gt;** bit 2</span>
00107                         0x00000008,             <span class="comment">//&gt;** bit 3</span>
00108                         0x00000010,             <span class="comment">//&gt;** bit 4</span>
00109                         0x00000020,             <span class="comment">//&gt;** bit 5</span>
00110                         0x00000040,             <span class="comment">//&gt;** bit 6</span>
00111                         0x00000080,             <span class="comment">//&gt;** bit 7</span>
00112                         0x00000100,             <span class="comment">//&gt;** bit 8</span>
00113                         0x00000200,             <span class="comment">//&gt;** bit 9</span>
00114                         0x00000400,             <span class="comment">//&gt;** bit 10</span>
00115                         0x00000800,             <span class="comment">//&gt;** bit 11</span>
00116                         0x00001000,             <span class="comment">//&gt;** bit 12</span>
00117                         0x00002000,             <span class="comment">//&gt;** bit 13</span>
00118                         0x00004000,             <span class="comment">//&gt;** bit 14</span>
00119                         0x00008000,             <span class="comment">//&gt;** bit 15</span>
00120                         0x00010000,             <span class="comment">//&gt;** bit 16</span>
00121                         0x00020000,             <span class="comment">//&gt;** bit 17</span>
00122                         0x00040000,             <span class="comment">//&gt;** bit 18</span>
00123                         0x00080000,             <span class="comment">//&gt;** bit 19</span>
00124                         0x00100000,             <span class="comment">//&gt;** bit 20</span>
00125                         0x00200000,             <span class="comment">//&gt;** bit 21</span>
00126                         0x00400000,             <span class="comment">//&gt;** bit 22</span>
00127                         0x00800000,             <span class="comment">//&gt;** bit 23</span>
00128                         0x01000000,             <span class="comment">//&gt;** bit 24</span>
00129                         0x02000000,             <span class="comment">//&gt;** bit 25</span>
00130                         0x04000000,             <span class="comment">//&gt;** bit 26</span>
00131                         0x08000000,             <span class="comment">//&gt;** bit 27</span>
00132                         0x10000000,             <span class="comment">//&gt;** bit 28</span>
00133                         0x20000000,             <span class="comment">//&gt;** bit 29</span>
00134                         0x40000000,             <span class="comment">//&gt;** bit 30</span>
00135                         0x80000000              <span class="comment">//&gt;** bit 31</span>
00136                 };
00137 
00138 
00139 } <span class="comment">/* namespace mprace */</span>
00140 
00141 <span class="preprocessor">#endif </span><span class="comment">/*PININREGISTER_H_*/</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Mon Mar 10 11:02:24 2008 for MPRACE library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
