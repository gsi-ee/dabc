<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>MPRACE library: mprace::Driver Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>mprace::Driver Class Reference</h1>Abstract interface to any driver supported by the library.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="Driver_8h-source.html">Driver.h</a>&gt;</code>
<p>
Inheritance diagram for mprace::Driver:<p><center><img src="classmprace_1_1Driver__inherit__graph.png" border="0" usemap="#mprace_1_1Driver__inherit__map" alt="Inheritance graph"></center>
<map name="mprace_1_1Driver__inherit__map">
<area href="classmprace_1_1PCIDriver.html" shape="rect" coords="5,81,136,105" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classmprace_1_1Driver-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmprace_1_1Driver.html#a0">~Driver</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete a device.  <a href="#a0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmprace_1_1Driver.html#a1">open</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open the device.  <a href="#a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmprace_1_1Driver.html#a2">close</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close the device.  <a href="#a2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmprace_1_1Driver.html#a3">mmapArea</a> (const unsigned int num)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Memory Map an area into User Space Memory.  <a href="#a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmprace_1_1Driver.html#a4">unmapArea</a> (const unsigned int num)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release an area previously mapped into User Space Memory.  <a href="#a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmprace_1_1Driver.html#a5">getAreaSize</a> (const unsigned int num)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the size of the area.  <a href="#a5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmprace_1_1Driver.html#a6">waitForInterrupt</a> (unsigned int int_id)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wait for an Interrupt to arrive.  <a href="#a6"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Abstract interface to any driver supported by the library. 
<p>
Allows the separation of the low level device driver from the library, by defining the operations needed by the library to be performed by the driver. Each driver instance represents one device.<p>
As a difference with the uelib, non-PCI drivers are supported. To accomplish this, the concept of an 'area' is defined. For PCI devices, an area is a BAR. For USB devices, an area represents an endpoint buffer. Numbering of the areas is device specific.<p>
Another difference is that the DMA Engine is completely abstracted from the driver. If the DMA operation is hidden or not, depends on the implementation of the <a class="el" href="classmprace_1_1DMAEngine.html">DMAEngine</a> and the <a class="el" href="classmprace_1_1DMABuffer.html">DMABuffer</a> used.<p>
<dl compact><dt><b>Author:</b></dt><dd>Guillermo Marcus </dd></dl>
<dl compact><dt><b>Version:</b></dt><dd><dl compact><dt><b>Revision</b></dt><dd>1.3 </dd></dl>
</dd></dl>
<dl compact><dt><b>Date:</b></dt><dd><dl compact><dt><b>Date</b></dt><dd>2008-01-11 10:30:21 </dd></dl>
</dd></dl>

<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="mprace::Driver::~Driver"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual mprace::Driver::~<a class="el" href="classmprace_1_1Driver.html">Driver</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Delete a device. 
<p>
Must be virtual to properly call the driver in the subclass.    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a2" doxytag="mprace::Driver::close"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void mprace::Driver::close           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Close the device. 
<p>

<p>
Implemented in <a class="el" href="classmprace_1_1PCIDriver.html#a3">mprace::PCIDriver</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="mprace::Driver::getAreaSize"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual unsigned int mprace::Driver::getAreaSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const unsigned int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>num</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the size of the area. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>the area number. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the size of the area, in bytes.</dd></dl>

<p>
Implemented in <a class="el" href="classmprace_1_1PCIDriver.html#a6">mprace::PCIDriver</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="mprace::Driver::mmapArea"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void* mprace::Driver::mmapArea           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const unsigned int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>num</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Memory Map an area into User Space Memory. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>the area number to mmap. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A pointer to access the requested area. </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mprace::Exception</em>&nbsp;</td><td>on Error.</td></tr>
  </table>
</dl>

<p>
Implemented in <a class="el" href="classmprace_1_1PCIDriver.html#a4">mprace::PCIDriver</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="mprace::Driver::open"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void mprace::Driver::open           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Open the device. 
<p>

<p>
Implemented in <a class="el" href="classmprace_1_1PCIDriver.html#a2">mprace::PCIDriver</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="mprace::Driver::unmapArea"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void mprace::Driver::unmapArea           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const unsigned int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>num</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Release an area previously mapped into User Space Memory. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>the area number to release. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mprace::Exception</em>&nbsp;</td><td>on Error.</td></tr>
  </table>
</dl>

<p>
Implemented in <a class="el" href="classmprace_1_1PCIDriver.html#a5">mprace::PCIDriver</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="mprace::Driver::waitForInterrupt"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void mprace::Driver::waitForInterrupt           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>int_id</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Wait for an Interrupt to arrive. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>int_id</em>&nbsp;</td><td>The IRQ id number to identify the waiting queue in the driver. This is a blocking call.</td></tr>
  </table>
</dl>

<p>
Implemented in <a class="el" href="classmprace_1_1PCIDriver.html#a9">mprace::PCIDriver</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li>include/mprace/<a class="el" href="Driver_8h-source.html">Driver.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Mon Mar 10 11:02:29 2008 for MPRACE library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
